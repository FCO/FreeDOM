<html>
  <head>
    <script src="./Cache.js"></script>
    <script>
      function get_table() {
        return document.getElementById("sortable");
      }
      function my_load(){
        var sortabletable = new SortTable();
        var my_table      = get_table();
        sortabletable.transform2sortable(my_table);
        my_table.draw_loop();
        my_table.set_lines_per_page(10);
        my_table.onChangePage = function(page_num){
          document.getElementById("page_num").innerHTML = page_num;
        };
      }
      function populate() {
        var my_table = get_table();
        for(var i = 0; i < 100; i++) {
          for(var j = 0; j < 100; j++) {
             var tmp_line = {};
             tmp_line.col0 = i + " - " + j;
             tmp_line.col1 = Math.floor(Math.random() * 100);
             tmp_line.col2 = Math.floor(Math.random() * 100);
             tmp_line.col3 = Math.floor(Math.random() * 100);
             tmp_line.col4 = Math.floor(Math.random() * 100);
             tmp_line.col5 = Math.floor(Math.random() * 100);
             tmp_line.col6 = Math.floor(Math.random() * 100);
             tmp_line.col7 = Math.floor(Math.random() * 100);
             tmp_line.col8 = Math.floor(Math.random() * 100);
             tmp_line.col9 = Math.floor(Math.random() * 100);
             my_table.push(tmp_line);
          }
        }
      }
      function filter(filter) {
        var my_table = get_table();
        my_table.set_filter(filter);
      }
    </script>
  </head>
  <body onload="my_load(); populate();">
    <table id="sortable" border=1></table>
    <a onclick="get_table().prev_page()">Prev Page</a>
    | [
    <span id="page_num"></span>
    ] |
    <a onclick="get_table().next_page()">Next Page</a>
    <br />
    <br />
    <br />
    <input type="text" name="filter" id="input_filter">
    <br />
    Escreva seu filtro (por exemplo: {"col0": ["0 - 0", "0 - 1", "9 - 0", "9 - 1"]})
    <br />
    <button onclick="filter(JSON.parse( document.getElementById('input_filter').value))">OK</button>
  </body>
</html>
